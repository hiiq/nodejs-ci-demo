########################
# Customize the test machine
########################
machine:
  node:
    version: 5.12

########################
# Customize dependencies
########################
dependencies:
  cache_directories:
    - ~/.npm
  pre:
    - rm -rf ./node_modules
    - rm -rf ./coverage
    - npm install -g npm@latest
    #- npm install -g chai
    #- npm install -g mocha
    #- npm install -g mocha-cli
    #- npm install -g mocha-lcov-reporter
    #- npm install -g istanbul
    - npm install -g coveralls
  override:
    #- nvm install 5 && npm install
    - npm install

########################
# Customize test commands
########################
test:
    override:
      - npm test
    post:
      - npm run coveralls

########################
# Customize deployment
########################
deployment:
  staging:
    branch: master
    heroku:
      appname: nodejs-ci-demo
